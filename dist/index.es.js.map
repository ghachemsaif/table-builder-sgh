{"version":3,"file":"index.es.js","sources":["../src/colonne.js","../src/ligne.js","../src/index.js"],"sourcesContent":["import React from 'react';\r\n\r\nclass Colonne extends React.Component {\r\n\r\n    ChangeValue = (e) => {\r\n      this.setState({valeur : e.target.value})\r\n      this.props.ValueChanged(e,this.props.i,this.props.j)\r\n    }\r\n    state = {\r\n      valeur : this.props.valeur,\r\n      i : this.props.i,\r\n      j : this.props.j,\r\n    }\r\n    dismiss() {\r\n         this.props.unmountMe();\r\n     }\r\n    componentWillReceiveProps(nextProps){\r\n      if(this.props.j == this.state.j){\r\n        console.log('match :', this.props.j == this.state.j)\r\n        this.setState(\r\n      \t\t{ valeur : nextProps.valeur}\r\n      \t)\r\n      }\r\n\r\n   }\r\n\r\n    CheckIsEditable(){\r\n      if(this.props.EnableRowEdit){\r\n        return <input\r\n        className={'inputfield'+this.props.i+this.props.j}\r\n        key={'inputfield'+this.props.i+this.props.j}\r\n        ref={'inputfield'+this.props.i+this.props.j}\r\n        value={this.state.valeur}\r\n        onChange={(e) => this.ChangeValue(e)}/>\r\n      }\r\n      else{\r\n        return this.state.valeur\r\n      }\r\n    }\r\n\r\n\t\trender() {\r\n\t\t\treturn (\r\n        <span key={'input'+this.props.i+this.props.j} className={this.props.i+this.props.j}>\r\n          {this.CheckIsEditable()}\r\n        </span>\r\n      )\r\n\t\t}\r\n}\r\n\r\nexport default Colonne;\r\n","import React from 'react';\r\nimport Colonne from './colonne';\r\n\r\n\r\nclass Ligne extends React.Component {\r\n\r\n\tdismiss() {\r\n\t\t\t this.props.unmountMe();\r\n\t }\r\n\t CheckDeleteLabelLine = () =>{\r\n\t\t return this.props.LabelDeleteLine ? this.props.LabelDeleteLine : '-'\r\n\t }\r\n\r\n\r\n\t\trender() {\r\n      const LigneTable = Object\r\n      .keys(this.props.data)\r\n      .map(\r\n        (key) =>\r\n        <td key={'td',key+this.props.i} className={key+this.props.i}>\r\n          <Colonne\r\n             ValueChanged={this.props.ValueUpdated}\r\n             i={this.props.i} key={'td'+key}\r\n             valeur={this.props.data[key].value}\r\n             j={key}\r\n             EnableRowEdit={this.props.EnableRowEdit}  />\r\n        </td>\r\n        )\r\n\r\n\r\n\t\t\treturn (\r\n        <tr>\r\n          {LigneTable}\r\n          <td className=\"actions\"  >\r\n            <button className=\"delete_row\" onClick={ (e) => this.props.DeleteLigne(this.props.i)}>{this.CheckDeleteLabelLine()}</button>\r\n          </td>\r\n        </tr>\r\n      )\r\n\t\t}\r\n}\r\n\r\nexport default Ligne;\r\n","import React from 'react';\nimport Ligne from './ligne';\n\nexport default class TableBuilderGH extends React.Component {\n\n\tconstructor(props) {\n    super(props);\n\n    this.state = {\n    data : this.props.data\n    }\n    this.DeleteLigne=this.DeleteLigne.bind(this);\n  }\n\n\n\tstate = {\n\t\tdata : this.props.data\n\t}\n\n\trow = {\"value\" : \"New row\"};\n\n\tDeleteLigne = (i) => {\n\t\tconst a = this.state.data.splice(i,1)\n\t\tthis.props.OnTableUpdate(this.state.data)\n\t}\n\n\tValueUpdated =(e,i,j) =>{\n\t\tconsole.log( e.target.value,i,j)\n\t\tthis.state.data[i][j].value = e.target.value;\n\t\tthis.props.OnTableUpdate(this.state.data)\n\t}\n\tstate = {\n\t\tdata : this.state.data\n\t}\n\n\tAddLigne = () => {\n\t\tconst l = this.state.data.length;\n\t\tconst row = JSON.parse(JSON.stringify(this.row))\n\t\tif(l > 0){\n\t\t\tconst ObjectToPush = [];\n\t\t\tfor (var i = 0; i < this.state.data[0].length; i++){\n\t\t\t\tObjectToPush.push(JSON.parse(JSON.stringify(row)))\n\t\t\t}\n\n\t\t\tthis.state.data.push(ObjectToPush)\n\t\t}\n\t\telse {\n\t\t\tthis.state.data.push(\n\t\t\t\t[row]\n\t\t\t)\n\t\t}\n\t\tthis.props.OnTableUpdate(this.state.data)\n\t}\n\tAddColonne = () => {\n\t\tconst row = JSON.parse(JSON.stringify(this.row))\n\n\t\tfor (var i = 0; i < this.state.data.length; i++){\n\t\t\tthis.state.data[i].push(JSON.parse(JSON.stringify(row)))\n\t\t}\n\t\tthis.props.OnTableUpdate(this.state.data)\n\t}\n\n\tCheCkAddRow = () =>{\n\t\tif(this.props.EnableTableEdit){\n\t\t\treturn <button className=\"Add_button add_colonne\" onClick={ (e) => this.AddColonne(e)} >{this.LabelAddRow()}</button>;\n\t\t}\n\t}\n\tCheCkAddLine = () =>{\n\t\tif(this.props.EnableTableEdit){\n\t\t\treturn <button className=\"Add_button\" onClick={ (e) => this.AddLigne(e)} >{this.LabelAddLine()}</button>\n\t\t}\n\t}\n\n\tLabelAddLine = () =>{\n\t\treturn this.props.LabelAddLine ? this.props.LabelAddLine : '+'\n\t}\n\tLabelAddRow = () =>{\n\t\treturn this.props.LabelAddRow ? this.props.LabelAddRow : '+'\n\t}\n\n\n\trender() {\n    const LigneTable = Object\n    .keys(this.state.data)\n    .map(\n      (key)=> <Ligne\n\t\t\t DeleteLigne={this.DeleteLigne}\n\t\t\t  EnableRowEdit={this.props.EnableRowEdit}\n\t\t\t\t ValueUpdated={this.ValueUpdated}\n\t\t\t\t  i={key}\n\t\t\t\t\t key={key+'ligne'}\n\t\t\t\t\t  LabelDeleteLine={this.props.LabelDeleteLine}\n\t\t\t\t\t   data={this.state.data[key]}\n\t\t\t\t\t\t />\n\n\t\t)\n\n\t\treturn (\n\t\t\t<div className=\"table_builder_holder\">\n\t\t\t\t{this.CheCkAddRow()}\n\t\t\t\t<table>\n\t        <tbody>\n\t          {LigneTable}\n\t        </tbody>\n\t      </table>\n\t\t\t\t{this.CheCkAddLine()}\n\n\t\t\t</div>\n\t\t)\n\t}\n\n\n  static propTypes = {\n    data : React.PropTypes.array.isRequired,\n\t\tOnTableUpdate : React.PropTypes.func.isRequired,\n\t\tEnableTableEdit : React.PropTypes.bool,\n\t\tEnableRowEdit : React.PropTypes.bool,\n\t\tLabelAddRow : React.PropTypes.string,\n\t\tLabelAddLine : React.PropTypes.string,\n  }\n}\n"],"names":["Colonne","ChangeValue","e","setState","valeur","target","value","props","ValueChanged","i","j","state","unmountMe","nextProps","log","EnableRowEdit","CheckIsEditable","React","Component","Ligne","CheckDeleteLabelLine","LabelDeleteLine","LigneTable","Object","keys","data","map","key","ValueUpdated","DeleteLigne","TableBuilderGH","row","a","splice","OnTableUpdate","AddLigne","l","length","JSON","parse","stringify","ObjectToPush","push","AddColonne","CheCkAddRow","EnableTableEdit","LabelAddRow","CheCkAddLine","LabelAddLine","bind","propTypes","PropTypes","array","isRequired","func","bool","string"],"mappings":"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"}